// File in gocore/phase/type.go
package phase

import (
	"context"

	"github.com/abtransitionit/gocore/logx"
)

// Description: represents a set of phases.
type Workflow2 struct {
	Name        string            `yaml:"name"`
	Description string            `yaml:"description"`
	Phases      map[string]Phase2{
		Name         string            `yaml:"name"`
		Description  string            `yaml:"description"`
		Fn           string            `yaml:"fn"`
		Dependencies []string          `yaml:"dependencies,omitempty"` // replace Next
		Params       map[string]string `yaml:"params,omitempty"`
		Node         string            `yaml:"node,omitempty"`
	} `yaml:"phases"`
}


// Name: PhaseFunc
//
// Description: a type that represents a function to be executed as a phase.
//
// Parameters:
//   - ctx: The context for the phase's execution.
//   - cmd: Additional arguments to be passed to the phase's function.
// 	- targets: A slice of Target to be passed to the phase's function.

// Notes:
// - The function is designed to play some code on a Target (VM, Container, etc).
// - The cmd...string here is meant to pass the same arguments to all phases of a workflow via Execute
type PhaseFunc2 func(ctx context.Context, l logx.Logger, targets []Target, cmd ...string) (string, error)
